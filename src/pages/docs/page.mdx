---
title: 微页面
description: 支持使用代码形式编写自定义控件，并进一步开发组合成自定义前端页面。微页面中需要支持快捷调用平台的基础控件，包括并不限于列表视图、记录详情视图、图表、报表。
---

微页面也是一种元数据，可以配置菜单指向微页面。微页面可以使用可视化工具设计，最终保存在软件包中。

## 核心需求

- 低代码快速开发页面
- 提供可视化工具
- 需要支持自定义控件

## 微页面元数据

```yml
name: contract-list
object_api_name: contracts
type: page/record-detail
profile: user
renderEngine: amis
schema: amisSchema
```

## 微页面引擎

- [Baidu Amis](https://github.com/baidu/amis)
- [Alibaba Formliy](https://github.com/alibaba/formily)

## 注册微页面引擎

```js
Builder.registerRenderEngine('amis', AmisRenderComponent)
```

## 微页面引擎注册自定义组件

```js
Builder.registerComponent('amis', 'map', MapComponent)
```

## 渲染页面

### 渲染记录详情页

首先根据用户的简档，自动找到对应的page。通过接口返回前端。

```
GET /api/page/recordPage?objectApiName=?&recordId=?
```

如果未获取到自定义页面，则使用默认的页面。

```js
Builder.renderPage(renderEngine, schema, {objectApiName: 'xxx', recordId: 'yyy'});
```

此函数应根据页面对应的渲染引擎，进一步调用 renderComponent 渲染页面。例如：

```js
if (renderEngine == 'amis') {
    AmisRenderComponent(schema, {objectApiName: 'xxx', recordId: 'yyy'})
}
```



## 参考

- [Salesforce Lightning](https://developer.salesforce.com/docs/atlas.en-us.lightning.meta/lightning/intro_lightning.htm)
- [Baidu Amis](https://github.com/baidu/amis)
