---
title: 公式
description: 公式引擎可以帮助非程序员快速实现一些简单的业务逻辑，类似Excel公式，它是从其他字段、表达式或值派生其值的一种算法，可以帮助您根据其他字段自动计算一个字段的值。
---

## 公式实例

```js
Total_Pay = 
IF(Total_Hours__c <= 40, Total_Hours__c * Hourly_Rate__c, 
40 * Hourly_Rate__c + 
(Total_Hours__c - 40) * Overtime_Rate__c)
```

## 跨对象引用

公式在服务端执行，因此可以在公式中引用当前记录相关表中的数据。

例如以下语法可以引用付款记录对应的合同记录对应的客户名称。

```js
  payment.contract.account.name
```

## 公式引擎的应用场景

- 字段默认值： 在用户创建记录时向自定义字段应用一个值。使用公式可以定义默认值。用户可以更改默认值。默认值可以由使用您指定的值、合并字段或表达式的公式确定。
- 公式字段： 使用您指定的值、合并字段或表达式。自动计算自定义字段的值。用户不能更改公式字段的值。
- 验证规则： 防止用户在标准/自定义字段中输入无效值。验证规则可以基于公式，并在用户输入无效值时，向用户显示出错消息。
- 字段更新： 自动将字段值更改为您指定的值。公式中可以包括其他值、合并字段或表达式。可以将字段更新设置为因工作流规则或批准过程而发生。
- 工作流规则： 定义记录触发工作流规则时必须满足的条件。
- 批准过程： 定义记录必须满足才能进入批准过程的条件。
- 批准步骤： 定义记录必须满足才能进入批准步骤的条件。
- 报表：报表中的自动计算字段。

## 公式中的数据类型

公式的数据类型决定预期从公式返回的数据的类型。

- 文本： 返回字符串。除公式输出外，若还要显示文本，请将该文本放入引号中。对文本、多行文本、网址、邮件地址和自动编号等字段使用文本数据类型。
- 布尔： 返回 true（真） 或false（假）。该字段在记录详细信息页面和报表中显示为复选框。使用 true 作为选中值，使用 false 作为未选中值。
- 金额：  只能输入数值内容，默认2位小数，也可以指定小数位数。
- 日期： 返回代表日历中某一天的日期。当前日期可通过在公式中调用内部函数 TODAY() 获得。
- 日期时间： 返回表示时间中某一时刻的数据。日期时间字段包括日期，还包括由小时、分钟和秒组成的一天中的时刻。您可以使用 NOW() 函数在公式中插入当前日期和时间。
- 数字： 返回正负整数或小数（最多 18 位）。系统对公式字段使用四舍五入平分规则。例如，12.345 变为 12.35 和 -12.345 变为 -12.35。
- 百分比： 返回后跟百分号的百分比格式数字（最多 18 位）。百分比数据存储为小数，值为除以 100 后得到的小数，即 90% 等于 0.90。


## 公式中的运算符和函数

以下是Salesforce公式提供的运算符和函数

### 数学运算符

#### + 加

计算两个值的和。

**使用：** `值 1 + 值 2`，并用合并字段、表达式或其他数值替换每个值。

**返回值：** 数值

```javascript
Amount + Maint_Amount__c + Services_Amount__c
```

此公式计算产品 Amount（金额）、维护金额与服务费的总和。请注意，Maint amount（维护金额）和 Service Fees（服务费）是自定义金额字段。

```javascript
Monday_Hours__c + Tuesday_Hours__c + Wednesday_Hours__c + Thursday_Hours__c + Friday_Hours__c > 40
```

使用如上验证规则中的公式，可以在为各个工作日输入的工作时间总和大于 40 时显示下面的错误消息：“总工作时间不能超过 40 个小时”。本示例要求自定义对象上有五个自定义字段，每个工作日一个。

#### - 减

计算两个值的差。

**使用：** `值 1 - 值 2`，并合并字段、表达式或其他数值替换每个值。

**返回值：** 数值

```javascript
Amount - Discount_Amount__c
```

此公式计算产品 Amount（金额）减去 Discount Amount（折扣金额）的差。请注意，Discount Amount（折扣金额）是一个自定义金额字段。

#### \* 乘

乘以其值。

**使用：** `值1 * 值2`，用合并字段、表达式或其他数值替换每个值。

**返回值：** 数值

```javascript
Consulting_Days__c * 1200
```

此公式计算咨询天数乘以 1200 的数值，假定此公式字段是货币数据类型且咨询按每天 1200 美元的价格收费。请注意，Consulting Days（咨询天数）是一个自定义字段。

#### / 除

除以其值。

**使用：** `值1 / 值2`，用合并字段、表达式或其他数值替换每个值。

**返回值：** 数值

```javascript
AnnualRevenue/ NumberOfEmployees
```

此公式使用金额字段计算每个员工的收入金额。

```javascript
IF(NumberOfOpportunities > 0,  NumberOfWonOpportunities / NumberOfOpportunities, null)
```

此公式计算市场活动中业务机会的客户赢得率。

#### ^ 幂

使一个数字变成指定数字的幂。

**使用：** `数字^整数`，用合并字段、表达式或其他数值替换数字，用包含整数的合并字段、表达式或任何整数替换整数。

**返回值：** 数值

```javascript
NumberOfEmployees^4
```

计算员工数的四次幂。

> 避免使用负整数

#### () 括号

指定先计算左括号和右括号内的表达式。所有其他表达式均使用标准运算符优先权进行评估。

**使用：** `(表达式1) 表达式2...`，用合并字段、表达式或其他数值替换每个表达式。

```javascript
(Unit_Value__c - Old_Value__c) / New_Value__c
```

计算旧值与新值的差值，并除以新值。

### 逻辑运算符

#### = 与 ==（等于）

计算两个值是否相等。= 和 == 运算符可以互换。

**使用：** `表达式1=表达式2 或表达式1 == 表达式2`，用合并字段、表达式或其他数值替换每个表达式。

**返回值：** 布尔

```javascript
ExpiringDate = CreatedDate + 5
```

如果到期日等于记录的创建日期与五天之和返回 true。

```javascript
IF(Probability = 1, ROUND(Amount*0.02, 2), 0)
```

此公式计算佣金金额，具有 100% 可能性的业务机会按 2% 计算佣金。所有其他业务机会的佣金值为零。

具有 90% Probability（可能性）的业务机将无法获得佣金。

具有 100% Probability（可能性）和 100,000 美元 Amount（金额）的业务机会将获得 2,000 美元的佣金。

> 不要使用此函数进行空比较，如 MyDateTime__c == null。而应使用[ISBLANK](#ISBLANK)。


<h4 class="group flex whitespace-pre-wrap -ml-4 pl-4" id="<> 与 !=（不等于）">&lt;&gt; 与 !=（不等于）</h4>

计算两个值是否不相等。

**使用：** `表达式1 <> 表达式2` 或 `表达式1 != 表达式2`，用合并字段、表达式或其他数值替换每个表达式。

**返回值：** 布尔

```javascript
IF(Maint_Amount__c + Services_Amount__c <> Amount, "DISCOUNTED", "FULL PRICE")
```

如果产品的维护金额和服务金额之和不等于产品金额，此公式将在产品上显示“DISCOUNTED”（已折扣金额）。否则，显示“FULL PRICE”（全价）。请注意，本示例对 Maint Amount（维护金额）和 Services Amount（服务金额）使用两个自定义金额字段。

> 不要使用此函数进行空比较，如 MyDateTime__c != null。而应使用[ISBLANK](#ISBLANK)。

<h4 class="group flex whitespace-pre-wrap -ml-4 pl-4" id="<（小于）">&lt;（小于）</h4>

计算一个值是否小于此符号后面的值。

**使用：** `值1 < 值2`，用合并字段、表达式或其他数值替换每个值。

**返回值：** 布尔

```javascript
IF(AnnualRevenue < 1000000, 1, 2)
```

将值“1”赋予小于一百万的收入，将值“2”赋予大于一百万的收入。

#### >（大于）

计算一个值是否大于此符号后面的值。

**使用：** `值1 > 值2`，用合并字段、表达式或其他数值替换每个值。

**返回值：** 布尔

```javascript
IF(commission__c > 1000000, "High Net Worth", "General")
```

将“High Net Worth”（高资产净值）值赋予大于一百万的佣金。请注意，这是使用佣金自定义字段的文本公式字段。

<h4 class="group flex whitespace-pre-wrap -ml-4 pl-4" id="<=（小于或等于）">&lt;=（小于或等于）</h4>

计算一个值是否小于或等于此符号后面的值。

**使用：** `值1 <= 值2`，用合并字段、表达式或其他数值替换每个值。

**返回值：** 布尔

```javascript
IF(AnnualRevenue <= 1000000, 1, 2)
```

将值“1”赋予小于等于一百万的收入，将值“2”赋予大于一百万的收入。

#### >=（大于或等于）

计算一个值是否大于或等于此符号后面的值。

**使用：** `值1 >= 值2`，用合并字段、表达式或其他数值替换每个值。

**返回值：** 布尔

```javascript
IF(Commission__c >= 1000000, "YES", "NO")
```

将值“YES”（是）赋予大于或等于一百万的佣金。请注意，这是使用自定义货币字段 Commission（佣金）的文本公式字段。

#### &&（与）

评估两个值或表达式是否都为真。使用此运算符作为逻辑函数 AND 的备选。

**使用：** `（逻辑1）&&（逻辑2）`，以及用您希望评估的值或表达式替换逻辑1 和逻辑2。

**返回值：** 布尔

```javascript
IF((Price<100 && Quantity<5),“Small”, null)
```

如果价格小于 100 并且数量小于五，此公式显示 “Small”。否则此字段为空。

#### ||（或）

评估多个值或表达式中是否至少有一个为真。使用此运算符作为逻辑函数 OR 的备选。

**使用：** `(逻辑1）||（逻辑2)`，用您希望评估的值或表达式替换任意数量的逻辑引用。

**返回值：** 布尔

```javascript
IF(Priority = "High" || Status = "New", ROUND(NOW()-CreatedDate, 0), null)
```

如果个案 Status（状态）为“New”（新建）或 Priority（优先级）为“High”（高），则此公式返回个案未被处理的天数。如果个案是今天打开的，则该字段显示零。

```javascript
(Discount_Rate__c < 0) || (Discount_Rate__c > 0.40)
```

当自定义字段 Discount Rate（折扣率）的值不在 0 和 40% 之间时，此验证规则公式显示下面的错误消息：“Discount Rate cannot exceed 40%.”（折扣率不能超过 40%。)

### 文本运算符

#### &（串联）

连接两个或两个以上字符串。

**使用：** `字符串1&字符串2`，用合并字段、表达式或其他值替换每个字符串。

**返回值：** 文本

```javascript
"Expense-" & Trip_Name__c & "-" & ExpenseNum__c
```

此公式在行程名称和支出编号前显示文本“Expense-”。这是使用支出编号自定义字段的文本公式字段。


### 日期和时间函数

#### ADDMONTHS

返回的日期是，指定日期之前或之后的指定月数。如果剩余月的天数比起始月少，函数会返回剩余月的最后一天。否则，结果包含与指定日期相同的日组件。

**使用：** `ADDMONTHS (date/datetime,number)` ,使用起始日期与添加的月数替换`date/datetime`和`number`。

**参数：**

* *日期、日期时间:* `date/datetime` 日期或日期时间，表示起始日期。
* *数字:* `number` 数值，表示要增加的月数。

**返回值：** 日期

```javascript
ADDMONTHS (StartDate, 5)
```

为开始日期添加 5 个月。例如，如果开始日期是 2017 年 9 月 20 日，结果日期是 2018 年 2 月 20 日；如果开始日期是 2017 年 9 月 30 日，结果日期是 2018 年 2 月 28 日。

> 支持传入日期或日期时间类型的参数，但是返回值始终是日期类型，而不可能是日期时间类型。


#### DATE

从您输入的年、月和日值返回一个日期值。如果公式字段中的 DATE 函数值是无效日期，会返回错误信息。

**使用：** `DATE(年,月,日)` ,用一个四位数字年份替换年，用一个两位数字月份替换月，用一个两位数字日期替换日。

**参数：**

* *年:* `number` 四位数字表示的年份。
* *月:* `number` 表示月份值的数值。
* *日:* `number` 表示日部分的数值。

**返回值：** 日期

```javascript
DATE(2005, 1, 2)
```

创建一个 2005 年 1 月 2 日的日期字段。

> 参数个数只能是三个，也不支持传入`2005-01-01`这种字符串。

> 当传入的函数参数格式正确但是数值不符合规范时，并不会报错，而是会返回一个可能错误的值，比如如非闰年的DATE(2021,2,29)将返回2021-03-01，DATE(2021,121,29)将返回2031-01-29。


#### DATEVALUE

为日期、日期时间或文本表达式返回日期值。

**使用：** DATEVALUE(表达式)

**参数：** `date/datetime/text` 日期、日期时间或日期、日期时间格式的文本值的合并字段或表达式

**返回值：** 日期

```javascript
DATEVALUE(ClosedDate)
```

基于结束日期时间字段值显示日期值，参数ClosedDate可以是日期、日期时间类型，也可以是日期、日期时间格式的字符串类型。

```javascript
DATEVALUE("2005-1-15 12:30")
```

以日期值形式返回“2005-01-15”。

> - 如果该函数中所引用的字段不是有效的文本或日期时间字段，则该公式中的字段可能显示为异常字符串或错误信息，比如DATEVALUE("2005-111-15") 将返回NaN-NaN-NaN。  
> - 当输入日期时，请将日期放在引号内，并使用如下格式：YYYY-MM-DD，即，四位数字年份、两位数字月份和两位数字日期。  
> - 如果表达式不在有效的日期范围内（例如，MM 不在 01 和 12 之间），则该公式中的字段将显示“NaN-NaN-NaN”。  
> - 该公式始终会返回utc（协调世界时间）0点值，且除非传入的参数明确带了时区信息，否则将始终使用用户的时区计算，比如DATEVALUE('2018-12-12 06:06:06')返回的是2018-12-11，而DATEVALUE('2018-12-12T06:06:06Z')返回的是2018-12-12。


#### DATETIMEVALUE

返回年份、月份、日和 GMT 时间值。

**使用：** DATETIMEVALUE（表达式）

**参数：** `text` 不带TZ字符的日期/日期时间格式的文本值、合并字段或表达式

**返回值：** 日期时间

```javascript
DATETIMEVALUE(TEXT(ClosedDate))
```

基于结束日期字段值显示日期时间值，参数ClosedDate必须是日期类型，而不可以是日期时间类型， 因为如果ClosedDate是日期时间类型，TEXT(ClosedDate)返回的会是"2020-11-04 03:45:00Z"这种带Z的字符串。

```javascript
DATETIMEVALUE(SUBSTITUTE(TEXT(ClosedDate), "Z", ""))
```

基于结束日期字段值显示日期时间值，参数ClosedDate可以是日期类型，也可以是时间类型，因为此示例中把最后的Z字符清除掉了。

```javascript
DATETIMEVALUE("2005-11-15 17:00:00")
```

以日期和时间值形式返回“2005-11-15T17:00:00.000Z”（即utc时间2005 年 11 月 15 日17点整）。

#### DAY

以 1 与 31 之间的一个数字形式返回一个月中的某一天。

**使用：** DAY(日期)

**参数：** date 日期字段或值（如 TODAY()）

**返回值：** 数值

```javascript
DAY(Code_Freeze__c)
```

返回您的自定义代码冻结日期中的日。请注意，这不适用于“日期时间”字段。

> 只支持传入日期类型值，不支持“日期时间”类型值，也不支持字符串类型值。


#### HOUR

以 24数字格式（0\~23）返回GMT时区小时值。

**使用：** `HOUR(datetime)` ,使用日期时间值或 DATETIMEVALUE() 等值替换 datetime，不支持传入字符串参数。

**参数：** datetime 日期时间字段或值（如 NOW()）

**返回值：** 数值

```javascript
HOUR(ClosedDate)
```

仅根据日期时间完结字段值显示其中的小时。

```javascript
HOUR(DATETIMEVALUE('2018-12-12 18:06:08'))
```

返回18，而不是10。

#### MILLISECOND

以 0 与 999 之间的数字形式，返回毫秒值。

**使用：** `MILLISECOND(datetime)` ,使用日期时间值替换 datetime，例如 NOW()，不支持传入日期类型或字符串参数。

**参数：** datetime 日期时间字段或值（如 NOW()）

**返回值：** 数值

```javascript
MILLISECOND(DATETIMEVALUE(SUBSTITUTE(TEXT(ClosedDate), "Z", "")))
```

仅根据完结时间字段的值显示时间字段中的毫秒值。

```javascript
MILLISECOND(NOW())
```

返回当前时间的毫秒值，比如125。

#### MINUTE

以 0 与 60 之间的数字形式，返回分钟值。

**使用：** `MINUTE(datetime)` ,使用日期时间值替换 datetime，例如 NOW()，不支持传入日期类型或字符串参数。

**参数：** datetime 日期时间字段或值（如 NOW()）

**返回值：** 数值

```javascript
MINUTE(DATETIMEVALUE(SUBSTITUTE(TEXT(ClosedDate), "Z", "")))
```

仅根据完结时间字段的值显示时间字段中的分钟值。

```javascript
MINUTE(NOW())
```

返回当前时间的分钟值，比如12。

> MINUTE函数只授受datetime类型作为参数，不支持time,date,text类型作为参数，可以先用DATETIMEVALUE函数进行类型转换后再调用该函数。

#### MONTH

以给定日期的数字格式返回月份，即 1（一月）与 12（十二月）之间的一个数字。

**使用：** `MONTH(日期)` ,用包含您希望返回其月份的日期的字段或表达式替换日期。

**参数：** date 日期字段或值（如 TODAY()）

**返回值：** 数值

```javascript
MONTH(SLAExpirationDate__c)
```

返回您的服务级协议到期的月份。本示例使用名为 SLA Expiration Date（SLA 到期日期）的自定义日期字段。

```javascript
MONTH(TODAY())
```

以数字格式返回当前月份。例如，对于月份“February”将返回值“2”。

> MONTH函数只授受date类型作为参数，不支持time,datetime,text类型作为参数，可以先用DATEVALUE函数进行类型转换后再调用该函数。

#### NOW

返回表示当前时刻的日期时间。

**使用：** `NOW()`

**返回值：** 日期时间

```javascript
IF(Status = "Open", ROUND(NOW()-CreatedDate, 0), null)
```

此公式检查潜在客户是否未处理；如果是，则通过从当前日期和时间减去创建日期和时间来计算它未被处理的天数。结果是舍入为零小数位的未处理天数。如果潜在客户已处理，则此字段为空。


> - 请勿删除括号。
> - 保留括号为空。括号中不能包含值。
> - 在 NOW 函数返回“日期时间”字段而不是“日期”字段。Created Date（创建日期）和 Last Modified Date（上次修改日期）为“日期/间”字段，而 Last Activity Date（上次活动日期）为“日期”字段。
> - 如果您希望使用“日期”字段，请使用[TODAY](#TODAY)函数。
> - 始终使用用户的时区计算日期和时间，该函数本身返回的是utc时间值，比如当前是北京时间2020-11-07 15:28，NOW()返回值为"2020-11-07T07:28:00Z"。
> - 与函数 NOW 和其他“日期时间”字段一起使用加和减运算符，以返回一个代表天数的数字。例如，NOW() - CreatedDate 计算自一个记录创建日期以来的天数。在本示例中，公式字段数据类型为数字。
> - 与 NOW 函数和数字一起使用加和减运算符，以返回一个日期和时间。例如，NOW() +5 计算当前时间之前五天的日期和时间。在本示例中，公式字段数据类型为“日期时间”。


#### SECOND

以 0 与 60 之间的数字形式，返回秒值。

**使用：** `SECOND(datetime)`,使用日期时间值或 DATETIMEVALUE() 等值替换 datetime，不支持传入日期类型值或字符串参数。

**参数：** datetime 日期时间字段或值（如 NOW()）

**返回值：** 数值

```javascript
SECOND(ClosedDate)
```

仅根据完结时间字段的值显示其中的秒值。

```javascript
SECOND(DATETIMEVALUE('2018-12-12 18:06:08'))
```

返回 8。

#### TIMENOW

返回表示当前时刻的时间值 (GMT)。如果您仅想要跟踪时间，而非日期，使用此函数，而不是 NOW 函数。

**使用：** `TIMENOW()`

**返回值：** 时间

```javascript
IF(Rating="Hot", TEXT(TIMENOW()), TEXT(TIMEVALUE(CreatedDate)))
```

此公式会检查并了解潜在客户是否评级为“热门”；如果是，返回正确时间。否则，返回自某人创建潜在客户之后的时间。


> - 请勿删除括号。  
> - 保留括号为空。括号中不能包含值。  
> - 如果您希望使用“日期”字段，请使用[TODAY](#TODAY)函数。  
> - 显示的值为GMT时区值。  
> - 因华炎魔方还未支持time类型字段，所以暂时只能用TEXT函数输出文本值。  


#### TIMEVALUE

返回没有日期的当地时间值，例如工作时间。

**使用：** `TIMEVALUE(value)`,并使用时间格式的文本值、合并字段或表达式替换 value。

**参数：** text 时间格式的字符串，如17:30:45.125

**返回值：** 时间

```javascript
TEXT(TIMEVALUE("17:30:45.125"))
```

返回 "17:30:45.125"。

> - 请勿对日期时间字段使用 TIMEVALUE。
> - 因华炎魔方还未支持time类型字段，所以暂时只能用TEXT函数输出文本值。


#### TODAY

将当前日期返回为日期数据类型。

**使用：** `TODAY()`

**返回值：** 日期

```javascript
TODAY()-Sample_date_c
```

计算样本中还剩多少天。

```javascript
SampleDate < TODAY()
```

本示例可确保用户无法将 Sample Date（采样日期）更改为过去的日期。


> - 请勿删除括号。
> - 保留括号为空。括号中不能包含值。
> - 使用含 TODAY 函数的“日期”字段而不是“日期时间”字段。Last Activity Date（上次活动日期）是“日期”字段；而 Created Date（创建日期）和 Last Modified Date（上次修改日期）为“日期时间”字段
> - 如果您希望使用日期时间字段，请参阅[NOW](#NOW)函数。
> - 始终使用用户的时区计算日期和时间，TODAY()返回的是当天GMT时区0点值。
> - 与 TODAY 函数和其他“日期”字段一起使用加和减运算符，以返回一个代表天数的数字。例如，TODAY()-LastActivityDate 计算自上次活动日期后的天数。在本示例中，公式字段数据类型为数字。
> - 与 TODAY 函数和数字一起使用加和减运算符，以返回一个日期。例如，TODAY() +5 计算今天之前五天的日期。在本示例中，公式字段数据类型为日期。


#### WEEKDAY

返返回指定日期是周几，用 1 表示周日，2 表示周一，以此类推，7 表示周六。

**使用：** `WEEKDAY(date)`

**参数：** date 日期字段或值（如 TODAY()）

**返回值：** 数值

```yaml
WEEKDAY(customdate1__c)
```

使用 customdate1__c 返回指定日期的周数。

> - 该函数只支持日期类型值，不支持日期时间或字符串类型值作为参数。
> - 该函数与javascript编程语言的Date.getDay函数有差异，后者用0表示周日，1表示周一，以些类推，6表示周六。


#### YEAR

以给定日期的数字格式返回四位数字表示的年份。

**使用：** `YEAR(日期)`，用包含您希望返回的年份的字段或表达式替换日期。

**参数：** date 日期字段或值（如 TODAY()）

**返回值：** 数值

```yaml
YEAR(TODAY() )- YEAR(Initial_Meeting__c )
```

返回自您与客户初次会面后的年数。本示例使用名为 Initial Meeting（初次会面）的自定义日期字段。

> - 该函数只支持日期类型值，不支持日期时间或字符串类型值作为参数。
> - 该函数与javascript编程语言的Date.getYear函数表现一致。



### Logical Functions

- AND	Returns a TRUE response if all values are true; returns a FALSE response if one or more values are false.
- BLANKVALUE	Determines if an expression has a value and returns a substitute expression if it doesn’t. If the expression has a value, returns the value of the expression.
- CASE	Checks a given expression against a series of values. If the expression is equal to a value, returns the corresponding result. If it isn't equal to any values, it returns the else_result.
- IF	Determines if expressions are true or false. Returns a given value if true and another value if false.
- ISBLANK	Determines if an expression has a value and returns TRUE if it does not. If it contains a value, this function returns FALSE.
- ISCLONE	Checks if the record is a clone of another record and returns TRUE if one item is a clone. Otherwise, returns FALSE.
- ISNEW	Checks if the formula is running during the creation of a new record and returns TRUE if it is. If an existing record is being updated, this function returns FALSE.
- ISNULL Determines if an expression is null (blank) and returns TRUE if it is. If it contains a value, this function returns FALSE.

### Math Functions

- ABS	Calculates the absolute value of a number. The absolute value of a number is the number without its positive or negative sign.
- CEILING	Rounds a number up to the nearest integer, away from zero if negative.
- DISTANCE	Calculates the distance between two locations in miles or kilometers.
- EXP	Returns a value for e raised to the power of a number you specify.
- FLOOR	Returns a number rounded down to the nearest integer, towards zero if negative.
- GEOLOCATION	Returns a geolocation based on the provided latitude and longitude. Must be used with the DISTANCE function.
- LN	Returns the natural logarithm of a specified number. Natural logarithms are based on the constant e value of 2.71828182845904.
- LOG	Returns the base 10 logarithm of a number.
- MAX	Returns the highest number from a list of numbers.
- MCEILING	Rounds a number up to the nearest integer, towards zero if negative.
- MFLOOR	Rounds a number down to the nearest integer, away from zero if negative.
- MIN	Returns the lowest number from a list of numbers.
- MOD	Returns a remainder after a number is divided by a specified divisor.
- ROUND	Returns the nearest number to a number you specify, constraining the new number by a specified number of digits.
- SQRT	Returns the positive square root of a given number.

### Text Functions

- BEGINS	Determines if text begins with specific characters and returns TRUE if it does. Returns FALSE if it doesn't.
- BR	Inserts a line break in a string of text.
- CASESAFEID	Converts a 15-character ID to a case-insensitive 18-character ID.
- CONTAINS	Compares two arguments of text and returns TRUE if the first argument contains the second argument. If not, returns FALSE.
- FIND	Returns the position of a string within a string of text represented as a number.
- GETSESSIONID	Returns the user’s session ID.
- HTMLENCODE	Encodes text and merge field values for use in HTML by replacing characters that are reserved in HTML, such as the greater-than sign (>), with HTML entity equivalents, such as &gt;.
- HYPERLINK	Creates a link to a URL specified that is linkable from the text specified.
- IMAGE	Inserts an image with alternate text and height and width specifications.
- INCLUDES	Determines if any value selected in a multi-select picklist field equals a text literal you specify.
- ISPICKVAL	Determines if the value of a picklist field is equal to a text literal you specify.
- JSENCODE	Encodes text and merge field values for use in JavaScript by inserting escape characters, such as a backslash (\), before unsafe JavaScript characters, such as the apostrophe (').
- JSINHTMLENCODE	Encodes text and merge field values for use in JavaScript inside HTML tags by replacing characters that are reserved in HTML with HTML entity equivalents and inserting escape characters before unsafe JavaScript characters. JSINHTMLENCODE(someValue) is a convenience function that is equivalent to JSENCODE(HTMLENCODE((someValue)). That is, JSINHTMLENCODE first encodes someValue with HTMLENCODE, and then encodes the result with JSENCODE.
- LEFT	Returns the specified number of characters from the beginning of a text string.
- LEN	Returns the number of characters in a specified text string.
- LOWER	Converts all letters in the specified text string to lowercase. Any characters that are not letters are unaffected by this function. Locale rules are applied if a locale is provided.
- LPAD	Inserts characters you specify to the left-side of a text string.
- MID	Returns the specified number of characters from the middle of a text string given the starting position.
- RIGHT	Returns the specified number of characters from the end of a text string.
- RPAD	Inserts characters that you specify to the right-side of a text string.
- SUBSTITUTE	Substitutes new text for old text in a text string.
- TEXT	Converts a percent, number, date, date/time, or currency type field into text anywhere formulas are used. Also, converts picklist values to text in approval rules, approval step rules, workflow rules, escalation rules, assignment rules, auto-response rules, validation rules, formula fields, field updates, and custom buttons and links.
- TRIM	Removes the spaces and tabs from the beginning and end of a text string.
- UPPER	Converts all letters in the specified text string to uppercase. Any characters that are not letters are unaffected by this function. Locale rules are applied if a locale is provided.
- URLENCODE	Encodes text and merge field values for use in URLs by replacing characters that are illegal in URLs, such as blank spaces, with the code that represent those characters as defined in RFC 3986, Uniform Resource Identifier (URI): Generic Syntax. For example, blank spaces are replaced with %20, and exclamation points are replaced with %21.
- VALUE	Converts a text string to a number.

### Summary Functions
The following functions are available with summary, matrix, and joined reports.

- PARENTGROUPVAL	This function returns the value of a specified parent grouping. A “parent” grouping is any level above the one containing the formula. You can use this function only in custom summary formulas and at grouping levels for reports, but not at summary levels.
- PREVGROUPVAL	This function returns the value of a specified previous grouping. A “previous” grouping is one that comes before the current grouping in the report. Choose the grouping level and increment. The increment is the number of columns or rows before the current summary. The default is 1; the maximum is 12. You can use this function only in custom summary formulas and at grouping levels for reports, but not at summary levels.

### Advanced Functions

- CURRENCYRATE	Returns the conversion rate to the corporate currency for the given currency ISO code. If the currency is invalid, returns 1.0.
- GETRECORDIDS	Returns an array of strings in the form of record IDs for the selected records in a list, such as a list view or related list.
- IMAGEPROXYURL	Securely retrieves external images and prevents unauthorized requests for user credentials.
- INCLUDE	Returns content from an s-control snippet. Use this function to reuse common code in many s-controls.
- ISCHANGED	Compares the value of a field to the previous value and returns TRUE if the values are different. If the values are the same, this function returns FALSE.
- JUNCTIONIDLIST	Returns a JunctionIDList based on the provided IDs.
- LINKTO	Returns a relative URL in the form of a link (href and anchor tags) for a custom s-control or Salesforce page.
- PREDICT	Returns an Einstein Discovery prediction for a record based on the specified record ID or for a list of fields and their values.
- REGEX	Compares a text field to a regular expression and returns TRUE if there is a match. Otherwise, it returns FALSE. A regular expression is a string used to describe a format of a string according to certain syntax rules.
- REQUIRESCRIPT	Returns a script tag with source for a URL you specify. Use this function when referencing the Lightning Platform AJAX Toolkit or other JavaScript toolkits.
- URLFOR	Returns a relative URL for an action, s-control, Visualforce page, or a file in a static resource archive in a Visualforce page.
- VLOOKUP	Returns a value by looking up a related value on a custom object similar to the VLOOKUP() Excel function.

## 参考

- [Salesforce Formular](https://help.salesforce.com/s/articleView?id=sf.customize_formuladef.htm&type=5)
- [Steedos Formular Functions](https://www.steedos.cn/docs/admin/functions)